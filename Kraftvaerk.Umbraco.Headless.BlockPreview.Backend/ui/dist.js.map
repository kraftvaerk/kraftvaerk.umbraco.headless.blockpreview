{"version":3,"file":"dist.js","sources":["../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/node_modules/@lit/reactive-element/css-tag.js","../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/node_modules/@lit/reactive-element/reactive-element.js","../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/node_modules/lit-html/lit-html.js","../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/node_modules/lit-element/lit-element.js","../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/node_modules/@lit/reactive-element/decorators/custom-element.js","../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/node_modules/@lit/reactive-element/decorators/property.js","../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/node_modules/@lit/reactive-element/decorators/state.js","../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/node_modules/lit-html/directive.js","../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/node_modules/lit-html/directives/unsafe-html.js","../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/src/blockpreview-api/core/BaseHttpRequest.ts","../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/src/blockpreview-api/core/ApiError.ts","../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/src/blockpreview-api/core/CancelablePromise.ts","../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/src/blockpreview-api/core/request.ts","../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/src/blockpreview-api/core/FetchHttpRequest.ts","../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/src/blockpreview-api/services/KraftvaerkUmbracoHeadlessBlockpreviewApiV1Service.ts","../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/src/blockpreview-api/BlockPreviewClient.ts","../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/src/elements/headlessPreview.element.ts","../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/src/elements/headlessWorkspaceView.element.ts","../../Kraftvaerk.Umbraco.Headless.BlockPreview.Frontend/src/index.ts"],"sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,css,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:h,getOwnPropertyNames:r,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),b={attribute:!0,type:String,converter:u,reflect:!1,useDefault:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class y extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=b){if(s.state&&(s.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(t)&&((s=Object.create(s)).wrapped=!0),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),h=this.getPropertyDescriptor(t,i,s);void 0!==h&&e(this.prototype,t,h)}}static getPropertyDescriptor(t,s,i){const{get:e,set:r}=h(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get:e,set(s){const h=e?.call(this);r?.call(this,s),this.requestUpdate(t,h,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??b}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...r(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$ET(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const h=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==h?this.removeAttribute(e):this.setAttribute(e,h),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),h=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e,this[e]=h.fromAttribute(s,t.type)??this._$Ej?.get(e)??null,this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){const e=this.constructor,h=this[t];if(i??=e.getPropertyOptions(t),!((i.hasChanged??f)(h,s)||i.useDefault&&i.reflect&&h===this._$Ej?.get(t)&&!this.hasAttribute(e._$Eu(t,i))))return;this.C(t,s,i)}!1===this.isUpdatePending&&(this._$ES=this._$EP())}C(t,s,{useDefault:i,reflect:e,wrapped:h},r){i&&!(this._$Ej??=new Map).has(t)&&(this._$Ej.set(t,r??s??this[t]),!0!==h||void 0!==r)||(this._$AL.has(t)||(this.hasUpdated||i||(s=void 0),this._$AL.set(t,s)),!0===e&&this._$Em!==t&&(this._$Eq??=new Set).add(t))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t){const{wrapped:t}=i,e=this[s];!0!==t||this._$AL.has(s)||void 0===e||this.C(s,void 0,i,e)}}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$EM()}catch(s){throw t=!1,this._$EM(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Eq&&=this._$Eq.forEach((t=>this._$ET(t,this[t]))),this._$EM()}updated(t){}firstUpdated(t){}}y.elementStyles=[],y.shadowRootOptions={mode:\"open\"},y[d(\"elementProperties\")]=new Map,y[d(\"finalized\")]=new Map,p?.({ReactiveElement:y}),(a.reactiveElementVersions??=[]).push(\"2.1.0\");export{y as ReactiveElement,s as adoptStyles,u as defaultConverter,t as getCompatibleStyle,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${Math.random().toFixed(9).slice(2)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=y(3),T=Symbol.for(\"lit-noChange\"),E=Symbol.for(\"lit-nothing\"),A=new WeakMap,C=r.createTreeWalker(r,129);function P(t,i){if(!a(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const V=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":3===i?\"<math>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[P(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":3===i?\"</math>\":\"\")),o]};class N{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=V(t,s);if(this.el=N.createElement(f,n),C.currentNode=this.el.content,2===s||3===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=C.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?H:\"?\"===e[1]?I:\"@\"===e[1]?L:k}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),C.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function S(t,i,s=t,e){if(i===T)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=S(t,h._$AS(t,i.values),h,e)),i}class M{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);C.currentNode=e;let h=C.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new R(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new z(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=C.nextNode(),o++)}return C.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class R{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=E,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=S(this,t,i),c(t)?t===E||null==t||\"\"===t?(this._$AH!==E&&this._$AR(),this._$AH=E):t!==this._$AH&&t!==T&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):u(t)?this.k(t):this._(t)}O(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}_(t){this._$AH!==E&&c(this._$AH)?this._$AA.nextSibling.data=t:this.T(r.createTextNode(t)),this._$AH=t}$(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=N.createElement(P(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new M(e,this),s=t.u(this.options);t.p(i),this.T(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new N(t)),i}k(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new R(this.O(l()),this.O(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class k{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=E,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=E}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=S(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==T,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=S(this,e[s+n],i,n),r===T&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===E?t=E:t!==E&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.j(t)}j(t){t===E?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class H extends k{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===E?void 0:t}}class I extends k{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==E)}}class L extends k{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=S(this,t,i,0)??E)===T)return;const s=this._$AH,e=t===E&&s!==E||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==E&&(s===E||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class z{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){S(this,t)}}const Z={M:e,P:h,A:o,C:1,L:V,R:M,D:u,V:S,I:R,H:k,N:I,U:L,B:H,F:z},j=t.litHtmlPolyfillSupport;j?.(N,R),(t.litHtmlVersions??=[]).push(\"3.3.0\");const B=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new R(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{Z as _$LH,x as html,w as mathml,T as noChange,E as nothing,B as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as r}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const s=globalThis;class i extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return r}}i._$litElement$=!0,i[\"finalized\"]=!0,s.litElementHydrateSupport?.({LitElement:i});const o=s.litElementPolyfillSupport;o?.({LitElement:i});const n={_$AK:(t,e,r)=>{t._$AK(e,r)},_$AL:t=>t._$AL};(s.litElementVersions??=[]).push(\"4.2.0\");export{i as LitElement,n as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=t=>(e,o)=>{void 0!==o?o.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)};export{t as customElement};\n//# sourceMappingURL=custom-element.js.map\n","import{defaultConverter as t,notEqual as e}from\"../reactive-element.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const o={attribute:!0,type:String,converter:t,reflect:!1,hasChanged:e},r=(t=o,e,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(void 0===s&&globalThis.litPropertyMetadata.set(i,s=new Map),\"setter\"===n&&((t=Object.create(t)).wrapped=!0),s.set(r.name,t),\"accessor\"===n){const{name:o}=r;return{set(r){const n=e.get.call(this);e.set.call(this,r),this.requestUpdate(o,n,t)},init(e){return void 0!==e&&this.C(o,void 0,t,e),e}}}if(\"setter\"===n){const{name:o}=r;return function(r){const n=this[o];e.call(this,r),this.requestUpdate(o,n,t)}}throw Error(\"Unsupported decorator location: \"+n)};function n(t){return(e,o)=>\"object\"==typeof o?r(t,e,o):((t,e,o)=>{const r=e.hasOwnProperty(o);return e.constructor.createProperty(o,t),r?Object.getOwnPropertyDescriptor(e,o):void 0})(t,e,o)}export{n as property,r as standardProperty};\n//# sourceMappingURL=property.js.map\n","import{property as t}from\"./property.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function r(r){return t({...r,state:!0,attribute:!1})}export{r as state};\n//# sourceMappingURL=state.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e=t=>(...e)=>({_$litDirective$:t,values:e});class i{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}export{i as Directive,t as PartType,e as directive};\n//# sourceMappingURL=directive.js.map\n","import{nothing as t,noChange as i}from\"../lit-html.js\";import{Directive as r,PartType as s,directive as n}from\"../directive.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class e extends r{constructor(i){if(super(i),this.it=t,i.type!==s.CHILD)throw Error(this.constructor.directiveName+\"() can only be used in child bindings\")}render(r){if(r===t||null==r)return this._t=void 0,this.it=r;if(r===i)return r;if(\"string\"!=typeof r)throw Error(this.constructor.directiveName+\"() called with a non-string value\");if(r===this.it)return this._t;this.it=r;const s=[r];return s.raw=s,this._t={_$litType$:this.constructor.resultType,strings:s,values:[]}}}e.directiveName=\"unsafeHTML\",e.resultType=1;const o=n(e);export{e as UnsafeHTMLDirective,o as unsafeHTML};\n//# sourceMappingURL=unsafe-html.js.map\n","/* generated using openapi-typescript-codegen -- do not edit */\r\n/* istanbul ignore file */\r\n/* tslint:disable */\r\n/* eslint-disable */\r\nimport type { ApiRequestOptions } from './ApiRequestOptions';\r\nimport type { CancelablePromise } from './CancelablePromise';\r\nimport type { OpenAPIConfig } from './OpenAPI';\r\n\r\nexport abstract class BaseHttpRequest {\r\n\r\n    constructor(public readonly config: OpenAPIConfig) {}\r\n\r\n    public abstract request<T>(options: ApiRequestOptions): CancelablePromise<T>;\r\n}\r\n","/* generated using openapi-typescript-codegen -- do not edit */\r\n/* istanbul ignore file */\r\n/* tslint:disable */\r\n/* eslint-disable */\r\nimport type { ApiRequestOptions } from './ApiRequestOptions';\r\nimport type { ApiResult } from './ApiResult';\r\n\r\nexport class ApiError extends Error {\r\n    public readonly url: string;\r\n    public readonly status: number;\r\n    public readonly statusText: string;\r\n    public readonly body: any;\r\n    public readonly request: ApiRequestOptions;\r\n\r\n    constructor(request: ApiRequestOptions, response: ApiResult, message: string) {\r\n        super(message);\r\n\r\n        this.name = 'ApiError';\r\n        this.url = response.url;\r\n        this.status = response.status;\r\n        this.statusText = response.statusText;\r\n        this.body = response.body;\r\n        this.request = request;\r\n    }\r\n}\r\n","/* generated using openapi-typescript-codegen -- do not edit */\r\n/* istanbul ignore file */\r\n/* tslint:disable */\r\n/* eslint-disable */\r\nexport class CancelError extends Error {\r\n\r\n    constructor(message: string) {\r\n        super(message);\r\n        this.name = 'CancelError';\r\n    }\r\n\r\n    public get isCancelled(): boolean {\r\n        return true;\r\n    }\r\n}\r\n\r\nexport interface OnCancel {\r\n    readonly isResolved: boolean;\r\n    readonly isRejected: boolean;\r\n    readonly isCancelled: boolean;\r\n\r\n    (cancelHandler: () => void): void;\r\n}\r\n\r\nexport class CancelablePromise<T> implements Promise<T> {\r\n    #isResolved: boolean;\r\n    #isRejected: boolean;\r\n    #isCancelled: boolean;\r\n    readonly #cancelHandlers: (() => void)[];\r\n    readonly #promise: Promise<T>;\r\n    #resolve?: (value: T | PromiseLike<T>) => void;\r\n    #reject?: (reason?: any) => void;\r\n\r\n    constructor(\r\n        executor: (\r\n            resolve: (value: T | PromiseLike<T>) => void,\r\n            reject: (reason?: any) => void,\r\n            onCancel: OnCancel\r\n        ) => void\r\n    ) {\r\n        this.#isResolved = false;\r\n        this.#isRejected = false;\r\n        this.#isCancelled = false;\r\n        this.#cancelHandlers = [];\r\n        this.#promise = new Promise<T>((resolve, reject) => {\r\n            this.#resolve = resolve;\r\n            this.#reject = reject;\r\n\r\n            const onResolve = (value: T | PromiseLike<T>): void => {\r\n                if (this.#isResolved || this.#isRejected || this.#isCancelled) {\r\n                    return;\r\n                }\r\n                this.#isResolved = true;\r\n                if (this.#resolve) this.#resolve(value);\r\n            };\r\n\r\n            const onReject = (reason?: any): void => {\r\n                if (this.#isResolved || this.#isRejected || this.#isCancelled) {\r\n                    return;\r\n                }\r\n                this.#isRejected = true;\r\n                if (this.#reject) this.#reject(reason);\r\n            };\r\n\r\n            const onCancel = (cancelHandler: () => void): void => {\r\n                if (this.#isResolved || this.#isRejected || this.#isCancelled) {\r\n                    return;\r\n                }\r\n                this.#cancelHandlers.push(cancelHandler);\r\n            };\r\n\r\n            Object.defineProperty(onCancel, 'isResolved', {\r\n                get: (): boolean => this.#isResolved,\r\n            });\r\n\r\n            Object.defineProperty(onCancel, 'isRejected', {\r\n                get: (): boolean => this.#isRejected,\r\n            });\r\n\r\n            Object.defineProperty(onCancel, 'isCancelled', {\r\n                get: (): boolean => this.#isCancelled,\r\n            });\r\n\r\n            return executor(onResolve, onReject, onCancel as OnCancel);\r\n        });\r\n    }\r\n\r\n    get [Symbol.toStringTag]() {\r\n        return \"Cancellable Promise\";\r\n    }\r\n\r\n    public then<TResult1 = T, TResult2 = never>(\r\n        onFulfilled?: ((value: T) => TResult1 | PromiseLike<TResult1>) | null,\r\n        onRejected?: ((reason: any) => TResult2 | PromiseLike<TResult2>) | null\r\n    ): Promise<TResult1 | TResult2> {\r\n        return this.#promise.then(onFulfilled, onRejected);\r\n    }\r\n\r\n    public catch<TResult = never>(\r\n        onRejected?: ((reason: any) => TResult | PromiseLike<TResult>) | null\r\n    ): Promise<T | TResult> {\r\n        return this.#promise.catch(onRejected);\r\n    }\r\n\r\n    public finally(onFinally?: (() => void) | null): Promise<T> {\r\n        return this.#promise.finally(onFinally);\r\n    }\r\n\r\n    public cancel(): void {\r\n        if (this.#isResolved || this.#isRejected || this.#isCancelled) {\r\n            return;\r\n        }\r\n        this.#isCancelled = true;\r\n        if (this.#cancelHandlers.length) {\r\n            try {\r\n                for (const cancelHandler of this.#cancelHandlers) {\r\n                    cancelHandler();\r\n                }\r\n            } catch (error) {\r\n                console.warn('Cancellation threw an error', error);\r\n                return;\r\n            }\r\n        }\r\n        this.#cancelHandlers.length = 0;\r\n        if (this.#reject) this.#reject(new CancelError('Request aborted'));\r\n    }\r\n\r\n    public get isCancelled(): boolean {\r\n        return this.#isCancelled;\r\n    }\r\n}\r\n","/* generated using openapi-typescript-codegen -- do not edit */\r\n/* istanbul ignore file */\r\n/* tslint:disable */\r\n/* eslint-disable */\r\nimport { ApiError } from './ApiError';\r\nimport type { ApiRequestOptions } from './ApiRequestOptions';\r\nimport type { ApiResult } from './ApiResult';\r\nimport { CancelablePromise } from './CancelablePromise';\r\nimport type { OnCancel } from './CancelablePromise';\r\nimport type { OpenAPIConfig } from './OpenAPI';\r\n\r\nexport const isDefined = <T>(value: T | null | undefined): value is Exclude<T, null | undefined> => {\r\n    return value !== undefined && value !== null;\r\n};\r\n\r\nexport const isString = (value: any): value is string => {\r\n    return typeof value === 'string';\r\n};\r\n\r\nexport const isStringWithValue = (value: any): value is string => {\r\n    return isString(value) && value !== '';\r\n};\r\n\r\nexport const isBlob = (value: any): value is Blob => {\r\n    return (\r\n        typeof value === 'object' &&\r\n        typeof value.type === 'string' &&\r\n        typeof value.stream === 'function' &&\r\n        typeof value.arrayBuffer === 'function' &&\r\n        typeof value.constructor === 'function' &&\r\n        typeof value.constructor.name === 'string' &&\r\n        /^(Blob|File)$/.test(value.constructor.name) &&\r\n        /^(Blob|File)$/.test(value[Symbol.toStringTag])\r\n    );\r\n};\r\n\r\nexport const isFormData = (value: any): value is FormData => {\r\n    return value instanceof FormData;\r\n};\r\n\r\nexport const base64 = (str: string): string => {\r\n    try {\r\n        return btoa(str);\r\n    } catch (err) {\r\n        // @ts-ignore\r\n        return Buffer.from(str).toString('base64');\r\n    }\r\n};\r\n\r\nexport const getQueryString = (params: Record<string, any>): string => {\r\n    const qs: string[] = [];\r\n\r\n    const append = (key: string, value: any) => {\r\n        qs.push(`${encodeURIComponent(key)}=${encodeURIComponent(String(value))}`);\r\n    };\r\n\r\n    const process = (key: string, value: any) => {\r\n        if (isDefined(value)) {\r\n            if (Array.isArray(value)) {\r\n                value.forEach(v => {\r\n                    process(key, v);\r\n                });\r\n            } else if (typeof value === 'object') {\r\n                Object.entries(value).forEach(([k, v]) => {\r\n                    process(`${key}[${k}]`, v);\r\n                });\r\n            } else {\r\n                append(key, value);\r\n            }\r\n        }\r\n    };\r\n\r\n    Object.entries(params).forEach(([key, value]) => {\r\n        process(key, value);\r\n    });\r\n\r\n    if (qs.length > 0) {\r\n        return `?${qs.join('&')}`;\r\n    }\r\n\r\n    return '';\r\n};\r\n\r\nconst getUrl = (config: OpenAPIConfig, options: ApiRequestOptions): string => {\r\n    const encoder = config.ENCODE_PATH || encodeURI;\r\n\r\n    const path = options.url\r\n        .replace('{api-version}', config.VERSION)\r\n        .replace(/{(.*?)}/g, (substring: string, group: string) => {\r\n            if (options.path?.hasOwnProperty(group)) {\r\n                return encoder(String(options.path[group]));\r\n            }\r\n            return substring;\r\n        });\r\n\r\n    const url = `${config.BASE}${path}`;\r\n    if (options.query) {\r\n        return `${url}${getQueryString(options.query)}`;\r\n    }\r\n    return url;\r\n};\r\n\r\nexport const getFormData = (options: ApiRequestOptions): FormData | undefined => {\r\n    if (options.formData) {\r\n        const formData = new FormData();\r\n\r\n        const process = (key: string, value: any) => {\r\n            if (isString(value) || isBlob(value)) {\r\n                formData.append(key, value);\r\n            } else {\r\n                formData.append(key, JSON.stringify(value));\r\n            }\r\n        };\r\n\r\n        Object.entries(options.formData)\r\n            .filter(([_, value]) => isDefined(value))\r\n            .forEach(([key, value]) => {\r\n                if (Array.isArray(value)) {\r\n                    value.forEach(v => process(key, v));\r\n                } else {\r\n                    process(key, value);\r\n                }\r\n            });\r\n\r\n        return formData;\r\n    }\r\n    return undefined;\r\n};\r\n\r\ntype Resolver<T> = (options: ApiRequestOptions) => Promise<T>;\r\n\r\nexport const resolve = async <T>(options: ApiRequestOptions, resolver?: T | Resolver<T>): Promise<T | undefined> => {\r\n    if (typeof resolver === 'function') {\r\n        return (resolver as Resolver<T>)(options);\r\n    }\r\n    return resolver;\r\n};\r\n\r\nexport const getHeaders = async (config: OpenAPIConfig, options: ApiRequestOptions): Promise<Headers> => {\r\n    const [token, username, password, additionalHeaders] = await Promise.all([\r\n        resolve(options, config.TOKEN),\r\n        resolve(options, config.USERNAME),\r\n        resolve(options, config.PASSWORD),\r\n        resolve(options, config.HEADERS),\r\n    ]);\r\n\r\n    const headers = Object.entries({\r\n        Accept: 'application/json',\r\n        ...additionalHeaders,\r\n        ...options.headers,\r\n    })\r\n        .filter(([_, value]) => isDefined(value))\r\n        .reduce((headers, [key, value]) => ({\r\n            ...headers,\r\n            [key]: String(value),\r\n        }), {} as Record<string, string>);\r\n\r\n    if (isStringWithValue(token)) {\r\n        headers['Authorization'] = `Bearer ${token}`;\r\n    }\r\n\r\n    if (isStringWithValue(username) && isStringWithValue(password)) {\r\n        const credentials = base64(`${username}:${password}`);\r\n        headers['Authorization'] = `Basic ${credentials}`;\r\n    }\r\n\r\n    if (options.body !== undefined) {\r\n        if (options.mediaType) {\r\n            headers['Content-Type'] = options.mediaType;\r\n        } else if (isBlob(options.body)) {\r\n            headers['Content-Type'] = options.body.type || 'application/octet-stream';\r\n        } else if (isString(options.body)) {\r\n            headers['Content-Type'] = 'text/plain';\r\n        } else if (!isFormData(options.body)) {\r\n            headers['Content-Type'] = 'application/json';\r\n        }\r\n    }\r\n\r\n    return new Headers(headers);\r\n};\r\n\r\nexport const getRequestBody = (options: ApiRequestOptions): any => {\r\n    if (options.body !== undefined) {\r\n        if (options.mediaType?.includes('/json')) {\r\n            return JSON.stringify(options.body)\r\n        } else if (isString(options.body) || isBlob(options.body) || isFormData(options.body)) {\r\n            return options.body;\r\n        } else {\r\n            return JSON.stringify(options.body);\r\n        }\r\n    }\r\n    return undefined;\r\n};\r\n\r\nexport const sendRequest = async (\r\n    config: OpenAPIConfig,\r\n    options: ApiRequestOptions,\r\n    url: string,\r\n    body: any,\r\n    formData: FormData | undefined,\r\n    headers: Headers,\r\n    onCancel: OnCancel\r\n): Promise<Response> => {\r\n    const controller = new AbortController();\r\n\r\n    const request: RequestInit = {\r\n        headers,\r\n        body: body ?? formData,\r\n        method: options.method,\r\n        signal: controller.signal,\r\n    };\r\n\r\n    if (config.WITH_CREDENTIALS) {\r\n        request.credentials = config.CREDENTIALS;\r\n    }\r\n\r\n    onCancel(() => controller.abort());\r\n\r\n    return await fetch(url, request);\r\n};\r\n\r\nexport const getResponseHeader = (response: Response, responseHeader?: string): string | undefined => {\r\n    if (responseHeader) {\r\n        const content = response.headers.get(responseHeader);\r\n        if (isString(content)) {\r\n            return content;\r\n        }\r\n    }\r\n    return undefined;\r\n};\r\n\r\nexport const getResponseBody = async (response: Response): Promise<any> => {\r\n    if (response.status !== 204) {\r\n        try {\r\n            const contentType = response.headers.get('Content-Type');\r\n            if (contentType) {\r\n                const jsonTypes = ['application/json', 'application/problem+json']\r\n                const isJSON = jsonTypes.some(type => contentType.toLowerCase().startsWith(type));\r\n                if (isJSON) {\r\n                    return await response.json();\r\n                } else {\r\n                    return await response.text();\r\n                }\r\n            }\r\n        } catch (error) {\r\n            console.error(error);\r\n        }\r\n    }\r\n    return undefined;\r\n};\r\n\r\nexport const catchErrorCodes = (options: ApiRequestOptions, result: ApiResult): void => {\r\n    const errors: Record<number, string> = {\r\n        400: 'Bad Request',\r\n        401: 'Unauthorized',\r\n        403: 'Forbidden',\r\n        404: 'Not Found',\r\n        500: 'Internal Server Error',\r\n        502: 'Bad Gateway',\r\n        503: 'Service Unavailable',\r\n        ...options.errors,\r\n    }\r\n\r\n    const error = errors[result.status];\r\n    if (error) {\r\n        throw new ApiError(options, result, error);\r\n    }\r\n\r\n    if (!result.ok) {\r\n        const errorStatus = result.status ?? 'unknown';\r\n        const errorStatusText = result.statusText ?? 'unknown';\r\n        const errorBody = (() => {\r\n            try {\r\n                return JSON.stringify(result.body, null, 2);\r\n            } catch (e) {\r\n                return undefined;\r\n            }\r\n        })();\r\n\r\n        throw new ApiError(options, result,\r\n            `Generic Error: status: ${errorStatus}; status text: ${errorStatusText}; body: ${errorBody}`\r\n        );\r\n    }\r\n};\r\n\r\n/**\r\n * Request method\r\n * @param config The OpenAPI configuration object\r\n * @param options The request options from the service\r\n * @returns CancelablePromise<T>\r\n * @throws ApiError\r\n */\r\nexport const request = <T>(config: OpenAPIConfig, options: ApiRequestOptions): CancelablePromise<T> => {\r\n    return new CancelablePromise(async (resolve, reject, onCancel) => {\r\n        try {\r\n            const url = getUrl(config, options);\r\n            const formData = getFormData(options);\r\n            const body = getRequestBody(options);\r\n            const headers = await getHeaders(config, options);\r\n\r\n            if (!onCancel.isCancelled) {\r\n                const response = await sendRequest(config, options, url, body, formData, headers, onCancel);\r\n                const responseBody = await getResponseBody(response);\r\n                const responseHeader = getResponseHeader(response, options.responseHeader);\r\n\r\n                const result: ApiResult = {\r\n                    url,\r\n                    ok: response.ok,\r\n                    status: response.status,\r\n                    statusText: response.statusText,\r\n                    body: responseHeader ?? responseBody,\r\n                };\r\n\r\n                catchErrorCodes(options, result);\r\n\r\n                resolve(result.body);\r\n            }\r\n        } catch (error) {\r\n            reject(error);\r\n        }\r\n    });\r\n};\r\n","/* generated using openapi-typescript-codegen -- do not edit */\r\n/* istanbul ignore file */\r\n/* tslint:disable */\r\n/* eslint-disable */\r\nimport type { ApiRequestOptions } from './ApiRequestOptions';\r\nimport { BaseHttpRequest } from './BaseHttpRequest';\r\nimport type { CancelablePromise } from './CancelablePromise';\r\nimport type { OpenAPIConfig } from './OpenAPI';\r\nimport { request as __request } from './request';\r\n\r\nexport class FetchHttpRequest extends BaseHttpRequest {\r\n\r\n    constructor(config: OpenAPIConfig) {\r\n        super(config);\r\n    }\r\n\r\n    /**\r\n     * Request method\r\n     * @param options The request options from the service\r\n     * @returns CancelablePromise<T>\r\n     * @throws ApiError\r\n     */\r\n    public override request<T>(options: ApiRequestOptions): CancelablePromise<T> {\r\n        return __request(this.config, options);\r\n    }\r\n}\r\n","/* generated using openapi-typescript-codegen -- do not edit */\r\n/* istanbul ignore file */\r\n/* tslint:disable */\r\n/* eslint-disable */\r\nimport type { BlockPreviewFrontendModel } from '../models/BlockPreviewFrontendModel';\r\nimport type { BlockPreviewResponse } from '../models/BlockPreviewResponse';\r\nimport type { HeadlessPreviewToggleModel } from '../models/HeadlessPreviewToggleModel';\r\nimport type { CancelablePromise } from '../core/CancelablePromise';\r\nimport type { BaseHttpRequest } from '../core/BaseHttpRequest';\r\nexport class KraftvaerkUmbracoHeadlessBlockpreviewApiV1Service {\r\n    constructor(public readonly httpRequest: BaseHttpRequest) {}\r\n    /**\r\n     * @returns any OK\r\n     * @throws ApiError\r\n     */\r\n    public optionsApiV1KraftvaerkUmbracoHeadlessBlockpreview(): CancelablePromise<Array<HeadlessPreviewToggleModel>> {\r\n        return this.httpRequest.request({\r\n            method: 'OPTIONS',\r\n            url: '/api/v1/Kraftvaerk.Umbraco.Headless.BlockPreview/',\r\n            errors: {\r\n                401: `The resource is protected and requires an authentication token`,\r\n            },\r\n        });\r\n    }\r\n    /**\r\n     * @returns any OK\r\n     * @throws ApiError\r\n     */\r\n    public postApiV1KraftvaerkUmbracoHeadlessBlockpreview({\r\n        requestBody,\r\n    }: {\r\n        requestBody?: BlockPreviewFrontendModel,\r\n    }): CancelablePromise<BlockPreviewResponse> {\r\n        return this.httpRequest.request({\r\n            method: 'POST',\r\n            url: '/api/v1/Kraftvaerk.Umbraco.Headless.BlockPreview/',\r\n            body: requestBody,\r\n            mediaType: 'application/json',\r\n            errors: {\r\n                401: `The resource is protected and requires an authentication token`,\r\n            },\r\n        });\r\n    }\r\n    /**\r\n     * @returns any OK\r\n     * @throws ApiError\r\n     */\r\n    public getApiV1KraftvaerkUmbracoHeadlessBlockpreview({\r\n        id,\r\n    }: {\r\n        id?: string,\r\n    }): CancelablePromise<HeadlessPreviewToggleModel> {\r\n        return this.httpRequest.request({\r\n            method: 'GET',\r\n            url: '/api/v1/Kraftvaerk.Umbraco.Headless.BlockPreview/',\r\n            query: {\r\n                'id': id,\r\n            },\r\n            errors: {\r\n                401: `The resource is protected and requires an authentication token`,\r\n            },\r\n        });\r\n    }\r\n    /**\r\n     * @returns string OK\r\n     * @throws ApiError\r\n     */\r\n    public putApiV1KraftvaerkUmbracoHeadlessBlockpreview({\r\n        requestBody,\r\n    }: {\r\n        requestBody?: HeadlessPreviewToggleModel,\r\n    }): CancelablePromise<string> {\r\n        return this.httpRequest.request({\r\n            method: 'PUT',\r\n            url: '/api/v1/Kraftvaerk.Umbraco.Headless.BlockPreview/',\r\n            body: requestBody,\r\n            mediaType: 'application/json',\r\n            responseHeader: 'Umb-Notifications',\r\n            errors: {\r\n                401: `The resource is protected and requires an authentication token`,\r\n            },\r\n        });\r\n    }\r\n}\r\n","/* generated using openapi-typescript-codegen -- do not edit */\r\n/* istanbul ignore file */\r\n/* tslint:disable */\r\n/* eslint-disable */\r\nimport type { BaseHttpRequest } from './core/BaseHttpRequest';\r\nimport type { OpenAPIConfig } from './core/OpenAPI';\r\nimport { FetchHttpRequest } from './core/FetchHttpRequest';\r\nimport { KraftvaerkUmbracoHeadlessBlockpreviewApiV1Service } from './services/KraftvaerkUmbracoHeadlessBlockpreviewApiV1Service';\r\ntype HttpRequestConstructor = new (config: OpenAPIConfig) => BaseHttpRequest;\r\nexport class BlockPreviewClient {\r\n    public readonly kraftvaerkUmbracoHeadlessBlockpreviewApiV1: KraftvaerkUmbracoHeadlessBlockpreviewApiV1Service;\r\n    public readonly request: BaseHttpRequest;\r\n    constructor(config?: Partial<OpenAPIConfig>, HttpRequest: HttpRequestConstructor = FetchHttpRequest) {\r\n        this.request = new HttpRequest({\r\n            BASE: config?.BASE ?? '',\r\n            VERSION: config?.VERSION ?? '1.0',\r\n            WITH_CREDENTIALS: config?.WITH_CREDENTIALS ?? false,\r\n            CREDENTIALS: config?.CREDENTIALS ?? 'include',\r\n            TOKEN: config?.TOKEN,\r\n            USERNAME: config?.USERNAME,\r\n            PASSWORD: config?.PASSWORD,\r\n            HEADERS: config?.HEADERS,\r\n            ENCODE_PATH: config?.ENCODE_PATH,\r\n        });\r\n        this.kraftvaerkUmbracoHeadlessBlockpreviewApiV1 = new KraftvaerkUmbracoHeadlessBlockpreviewApiV1Service(this.request);\r\n    }\r\n}\r\n\r\n","import {  UMB_BLOCK_MANAGER_CONTEXT, UmbBlockDataType } from \"@umbraco-cms/backoffice/block\";\r\nimport { UmbBlockEditorCustomViewConfiguration, UmbBlockEditorCustomViewElement } from \"@umbraco-cms/backoffice/block-custom-view\";\r\nimport { UmbBlockTypeBaseModel } from \"@umbraco-cms/backoffice/block-type\";\r\nimport { UmbEntityUnique } from \"@umbraco-cms/backoffice/entity\";\r\nimport { UmbLitElement } from \"@umbraco-cms/backoffice/lit-element\";\r\nimport { UMB_VARIANT_WORKSPACE_CONTEXT } from \"@umbraco-cms/backoffice/workspace\";\r\nimport { css, html, nothing } from \"lit\";\r\nimport { customElement, property } from \"lit/decorators.js\";\r\nimport { unsafeHTML } from \"lit/directives/unsafe-html.js\";\r\nimport { BlockPreviewClient, HeadlessPreviewToggleModel } from \"../blockpreview-api\";\r\nimport { UMB_AUTH_CONTEXT } from \"@umbraco-cms/backoffice/auth\";\r\n\r\nconst elementName = 'umb-headless-preview';\r\n\r\n@customElement(elementName)\r\nexport class HeadlessPreviewElement extends UmbLitElement implements UmbBlockEditorCustomViewElement {\r\n\r\n  static useBeamFallback = false;\r\n  static loadingBarHtml = `\r\n    <umb-ref-grid-block standalone>\r\n      <umb-icon slot=\"icon\" name=\"icon-plugin\"></umb-icon>\r\n      <div slot=\"name\" style=\"display:flex; align-items:center; gap:8px; padding:6px 0;\">\r\n        <uui-loader-bar style=\"width:140px; --uui-color-loader-bar: #006eff;\"></uui-loader-bar>\r\n        <uui-tag look=\"secondary\" style=\"opacity:.6;\">Loading previewâ€¦</uui-tag>\r\n      </div>\r\n      <umb-block-grid-areas-container slot=\"areas\" draggable=\"false\"></umb-block-grid-areas-container>\r\n    </umb-ref-grid-block>\r\n  `;\r\n  static blockSettings: HeadlessPreviewToggleModel[] = []; \r\n\r\n  @property({ attribute: false }) content?: UmbBlockDataType;\r\n  @property({ attribute: false }) settings?: UmbBlockDataType;\r\n  @property({ attribute: false }) blockType?: UmbBlockTypeBaseModel | undefined;\r\n  @property({ attribute: false }) label?: string | undefined;\r\n  @property({ attribute: false }) icon?: string | undefined;\r\n  @property({ attribute: false }) config?: UmbBlockEditorCustomViewConfiguration | undefined;\r\n  @property({ attribute: false }) contentInvalid?: boolean | undefined;\r\n  @property({ attribute: false }) settingsInvalid?: boolean | undefined;\r\n  @property({ attribute: false }) unsupported?: boolean | undefined;\r\n  @property({ attribute: false }) unpublished?: boolean | undefined;\r\n\r\n  #currentId?: UmbEntityUnique | null = null;\r\n  #lastValue?: UmbBlockDataType | undefined;\r\n  #lastSettings?: UmbBlockDataType | undefined;\r\n  #currentHtmlString?: string | undefined;\r\n  #debounceTimer?: number;\r\n  #culture: string | null | undefined;\r\n  #useBeamFallback: boolean = false;\r\n  #uuiBars: HTMLElement[] = [];\r\n  #lastError?: string | undefined;\r\n  #embedded: boolean = false;\r\n  #blockSetting: HeadlessPreviewToggleModel | undefined;\r\n  #isGrid: boolean = false;\r\n  #isList: boolean = false;\r\n  #isRTE: boolean = false;\r\n  constructor() {\r\n    super();\r\n    \r\n    this.init();\r\n  }\r\n\r\n  async updated(changedProperties: Map<string | number | symbol, unknown>) {\r\n    super.updated(changedProperties);\r\n    if (this.#lastValue !== this.content || this.#lastSettings !== this.settings) {\r\n      this.#debouncedFetchHtml();\r\n    }\r\n  }\r\n\r\n  override render() {\r\n\r\n    if(!this.#blockSetting) {\r\n      this.#blockSetting = HeadlessPreviewElement.blockSettings.find(x => x.id == this.blockType?.contentElementTypeKey)\r\n    }\r\n\r\n    if (!this.#lastValue)\r\n      this.#lastValue = this.content;\r\n    if (!this.#lastSettings)\r\n      this.#lastSettings = this.settings;\r\n\r\n    this.#uuiBars.forEach((uuiActionBar) => {\r\n      this.manageButtons(uuiActionBar);\r\n    });\r\n    \r\n    if (\r\n      HeadlessPreviewElement.useBeamFallback || \r\n      this.#currentHtmlString === 'blockbeam' || \r\n      (this.#embedded && !this.#blockSetting?.enabledNested) ||\r\n      (!this.#blockSetting?.enabledGrid && this.#isGrid) ||\r\n      (!this.#blockSetting?.enabledList && this.#isList) ||\r\n      (!this.#blockSetting?.enabledRTE && this.#isRTE) ||\r\n      this.#lastError\r\n    ) {\r\n      return this.blockBeam(this.#lastError);\r\n    }\r\n      \r\n\r\n    \r\n    return html`<div class=\"__headless-preview\"><a href=${(this.config?.showContentEdit ? this.config?.editContentPath : undefined) ?? ''}>${unsafeHTML(this.#currentHtmlString)}</a></div>`;\r\n  }\r\n\r\n  async init() {\r\n    this.#currentHtmlString = HeadlessPreviewElement.loadingBarHtml;\r\n\r\n    this.consumeContext(UMB_BLOCK_MANAGER_CONTEXT, (blockManager) => {\r\n      this.#culture = blockManager?.getVariantId()?.culture;\r\n      console.log(blockManager?.getHostElement().tagName)\r\n      this.#isGrid = blockManager?.getHostElement().tagName === 'UMB-PROPERTY-EDITOR-UI-BLOCK-GRID';\r\n      this.#isList = blockManager?.getHostElement().tagName === 'UMB-PROPERTY-EDITOR-UI-BLOCK-LIST';\r\n      this.#isRTE = blockManager?.getHostElement().tagName === 'UMB-PROPERTY-EDITOR-UI-TIPTAP';\r\n\r\n      const root = blockManager?.getHostElement();\r\n      if (root != null) {\r\n        this.#uuiBars = this.findAllInShadowRoots<HTMLElement>('uui-action-bar', root);\r\n      }\r\n    });\r\n\r\n    this.consumeContext(UMB_VARIANT_WORKSPACE_CONTEXT, (workspaceContext) => {\r\n      this.#currentId = workspaceContext?.getUnique();\r\n      this.#lastValue = this.content;\r\n      this.getHtmlString().then(() => {\r\n        this.requestUpdate();\r\n      });\r\n    });\r\n    \r\n    this.checkReadiness();\r\n    this.uiLoop();\r\n  }\r\n\r\n  checkReadiness() {\r\n    setTimeout(() => {\r\n      if(this.#currentHtmlString === HeadlessPreviewElement.loadingBarHtml) {\r\n        \r\n        if(this.#currentId === null || this.#currentId === undefined) {\r\n          this.#embedded = true;\r\n        }\r\n\r\n        this.getHtmlString();\r\n      }\r\n      else this.checkReadiness();\r\n    }, 500);\r\n  }\r\n\r\n  uiLoop() {\r\n    setTimeout(() => {\r\n      if (this.#useBeamFallback !== HeadlessPreviewElement.useBeamFallback) {\r\n        this.#useBeamFallback = HeadlessPreviewElement.useBeamFallback;\r\n        this.requestUpdate();\r\n      }\r\n\r\n      this.uiLoop();\r\n    }, 100);\r\n  }\r\n\r\n  #debouncedFetchHtml() {\r\n    clearTimeout(this.#debounceTimer);\r\n    this.#debounceTimer = window.setTimeout(async () => {\r\n      this.#lastValue = this.content;\r\n      this.#lastSettings = this.settings;\r\n      await this.getHtmlString();\r\n    }, 10);\r\n  }\r\n\r\n  async getHtmlString() {\r\n    const blockPreviewObject = {\r\n      id: this.#currentId,\r\n      contentType: this.blockType?.contentElementTypeKey,\r\n      settingsType: this.blockType?.settingsElementTypeKey ?? '',\r\n      content: JSON.stringify(this.#lastValue),\r\n      settings: JSON.stringify(this.#lastSettings ?? {}),\r\n      culture: this.#culture,\r\n    };\r\n\r\n    try {\r\n      \r\n      this.consumeContext(UMB_AUTH_CONTEXT, async (authContext) => {\r\n        const token = await authContext?.getLatestToken();\r\n          if(token) {\r\n          const client = new BlockPreviewClient({\r\n            TOKEN: token,\r\n          });\r\n\r\n          try {\r\n            const response = await client.kraftvaerkUmbracoHeadlessBlockpreviewApiV1.postApiV1KraftvaerkUmbracoHeadlessBlockpreview({\r\n              requestBody: blockPreviewObject,\r\n            });\r\n\r\n            this.#currentHtmlString = response.html ?? 'blockbeam';\r\n          } catch (error) {\r\n            this.#currentHtmlString = 'blockbeam';\r\n            this.#lastError = error instanceof Error ? error.message : 'Unknown error';\r\n          }\r\n          this.requestUpdate();\r\n        }\r\n      });\r\n\r\n    } catch (error) {\r\n      this.#currentHtmlString = 'blockbeam';\r\n      this.#lastError = error instanceof Error ? error.message : 'Unknown error';\r\n    }\r\n  }\r\n\r\n  private blockBeam(message?: string) {\r\n    const label = this.label + (message ? `- Rendering-error:  ${message}` : '');\r\n    return html`<umb-ref-grid-block\r\n      standalone\r\n      href=${(this.config?.showContentEdit ? this.config?.editContentPath : undefined) ?? ''}>\r\n      <umb-icon slot=\"icon\" .name=${this.icon}></umb-icon>\r\n      <umb-ufm-render slot=\"name\" inline .markdown=${label} .value=${this.content}></umb-ufm-render>\r\n      ${this.unpublished\r\n        ? html`<uui-tag slot=\"name\" look=\"secondary\" title=${this.localize.term('blockEditor_notExposedDescription')}>\r\n            <umb-localize key=\"blockEditor_notExposedLabel\"></umb-localize>\r\n          </uui-tag>`\r\n        : nothing}\r\n      <umb-block-grid-areas-container slot=\"areas\" draggable=\"false\"></umb-block-grid-areas-container>\r\n    </umb-ref-grid-block>`;\r\n  }\r\n\r\n  private findAllInShadowRoots<T extends Element = Element>(\r\n    selector: string,\r\n    root: Element | ShadowRoot\r\n  ): T[] {\r\n    const result: T[] = [];\r\n\r\n    function search(node: Element | ShadowRoot): void {\r\n      if (node instanceof Element && node.matches(selector)) {\r\n        result.push(node as T);\r\n      }\r\n\r\n      const shadow = (node as Element).shadowRoot;\r\n      if (shadow) {\r\n        Array.from(shadow.children).forEach(search);\r\n      }\r\n\r\n      if (node instanceof Element) {\r\n        Array.from(node.children).forEach(search);\r\n      }\r\n    }\r\n\r\n    search(root);\r\n    return result;\r\n  }\r\n\r\n  private manageButtons(uuiActionBar: HTMLElement) {\r\n    if (uuiActionBar.querySelector('.__blockpreview-button')) return;\r\n\r\n    const button = this.getHostElement().ownerDocument.createElement('a');\r\n    button.classList.add('__blockpreview-button');\r\n    button.setAttribute('data-id', this.#currentId?.toString() ?? '');\r\n    button.setAttribute('style', `\r\n      height: 33px;\r\n      width: 33px;\r\n      background: #f3f3f5;\r\n      cursor: pointer;\r\n      border-top-left-radius: 15px;\r\n      border-bottom-left-radius: 15px;\r\n      display: inline-block;\r\n    `);\r\n\r\n    button.innerHTML = `\r\n      <svg style=\"height: 17px; margin: 8px;\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1.75\" class=\"lucide lucide-container\" viewBox=\"0 0 24 24\">\r\n        <path d=\"M22 7.7c0-.6-.4-1.2-.8-1.5l-6.3-3.9a1.72 1.72 0 0 0-1.7 0l-10.3 6c-.5.2-.9.8-.9 1.4v6.6c0 .5.4 1.2.8 1.5l6.3 3.9a1.72 1.72 0 0 0 1.7 0l10.3-6c.5-.3.9-1 .9-1.5Z\"></path>\r\n        <path d=\"M10 21.9V14L2.1 9.1M10 14l11.9-6.9M14 19.8v-8.1M18 17.5V9.4\"></path>\r\n      </svg>\r\n    `;\r\n\r\n    button.addEventListener('mouseenter', () => {\r\n      button.style.background = '#ffffff';\r\n    });\r\n\r\n    button.addEventListener('mouseleave', () => {\r\n      button.style.background = '#f3f3f5';\r\n    });\r\n\r\n    button.addEventListener('click', () => {\r\n      HeadlessPreviewElement.useBeamFallback = !HeadlessPreviewElement.useBeamFallback;\r\n    \r\n      this.requestUpdate();\r\n\r\n    });\r\n\r\n    uuiActionBar.insertBefore(button, uuiActionBar.firstElementChild);\r\n  }\r\n\r\n  static override styles = [\r\n    css`\r\n      .__headless-preview {\r\n        border: 2px solid transparent;\r\n        box-sizing: border-box;\r\n        transition: border-color 0.2s ease-in-out;\r\n        height: 100%;\r\n      }\r\n      .__headless-preview > a:first-of-type {\r\n        display: flex;\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n      .__headless-preview:hover {\r\n        border: 2px solid var(--uui-palette-malibu);\r\n      }\r\n\r\n      .__blockpreview-button {\r\n        cursor: pointer;\r\n      }\r\n\r\n      .__block-preview {\r\n        width: 100%;\r\n      }\r\n\r\n      umb-ref-grid-block {\r\n         display: flex;\r\n         border: 1px solid #d8d7d9;\r\n         padding: 15px;\r\n         gap: 15px;\r\n      }\r\n    `,\r\n  ];\r\n}\r\n\r\nexport default HeadlessPreviewElement;\r\n\r\ndeclare global {\r\n  interface HTMLElementTagNameMap {\r\n    [elementName]: HeadlessPreviewElement;\r\n  }\r\n}\r\n","import { UMB_PROPERTY_DATASET_CONTEXT } from '@umbraco-cms/backoffice/property';\r\nimport { UmbLitElement } from '@umbraco-cms/backoffice/lit-element';\r\nimport { html, css } from 'lit';\r\nimport { customElement, state } from 'lit/decorators.js';\r\nimport { BlockPreviewClient, HeadlessPreviewToggleModel } from '../blockpreview-api';\r\nimport { UMB_AUTH_CONTEXT } from '@umbraco-cms/backoffice/auth';\r\n\r\nconst elementName = 'umb-headless-preview-workspace-view';\r\n\r\n@customElement(elementName)\r\nexport class HeadlessWorkspaceViewElement extends UmbLitElement {\r\n  @state()\r\n  private model: HeadlessPreviewToggleModel = {\r\n    id: '',\r\n    enabled: false,\r\n    enabledNested: false,\r\n    enabledList: false,\r\n    enabledGrid: false,\r\n    enabledRTE: false,\r\n    advancedSettings: '',\r\n  };\r\n\r\n  static styles = [\r\n    css`\r\n      uui-toggle,\r\n      uui-textarea {\r\n        margin-top: var(--uui-size-space-3);\r\n      }\r\n\r\n      .sub-toggle {\r\n        margin-left: var(--uui-size-space-3);\r\n        display: block;\r\n      }\r\n\r\n      .advanced {\r\n        margin-top: var(--uui-size-space-5);\r\n      }\r\n\r\n      .advanced p {\r\n        font-size: 0.875rem;\r\n        color: var(--uui-color-text-secondary);\r\n        margin: 0;\r\n      }\r\n    `,\r\n  ];\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.consumeContext(UMB_PROPERTY_DATASET_CONTEXT, async (propertyDatasetContext) => {\r\n      const id = propertyDatasetContext?.getUnique();\r\n      if (id) {\r\n        this.model.id = id;\r\n        await this.loadInitialState();\r\n      }\r\n    });\r\n  }\r\n\r\n  private async loadInitialState() {\r\n    try {\r\n      this.consumeContext(UMB_AUTH_CONTEXT, async (authContext) => {\r\n        const token = await authContext?.getLatestToken() ?? '';\r\n        const base = authContext?.getServerUrl() ?? '';\r\n\r\n        const client = new BlockPreviewClient({\r\n          BASE: base,\r\n          TOKEN: token,\r\n        });\r\n\r\n        const response = await client.kraftvaerkUmbracoHeadlessBlockpreviewApiV1.getApiV1KraftvaerkUmbracoHeadlessBlockpreview({\r\n          id: this.model.id,\r\n        });\r\n\r\n        this.model =  {\r\n          ...this.model,\r\n          ...response\r\n        }\r\n      });\r\n      \r\n    } catch (err) {\r\n      console.error('Error while fetching preview state', err);\r\n    }\r\n  }\r\n\r\n  private async updateModel(partial: Partial<HeadlessPreviewToggleModel>) {\r\n    this.model = { ...this.model, ...partial };\r\n\r\n    this.consumeContext(UMB_AUTH_CONTEXT, async (authContext) => {\r\n      const token = await authContext?.getLatestToken() ?? '';\r\n      const base = authContext?.getServerUrl() ?? '';\r\n\r\n      const client = new BlockPreviewClient({\r\n        BASE: base,\r\n        TOKEN: token,\r\n      });\r\n\r\n      await client.kraftvaerkUmbracoHeadlessBlockpreviewApiV1.putApiV1KraftvaerkUmbracoHeadlessBlockpreview({\r\n        requestBody: this.model,\r\n      });\r\n\r\n    });\r\n  }\r\n\r\n  private handleMainToggle(e: Event) {\r\n    const enabled = (e.target as HTMLInputElement).checked;\r\n    this.updateModel({\r\n      enabled,\r\n      enabledList: enabled,\r\n      enabledGrid: enabled,\r\n      enabledRTE: enabled,\r\n    });\r\n  }\r\n\r\n  private handleSubToggle(key: 'enabledList' | 'enabledGrid' | 'enabledRTE') {\r\n    return (e: Event) => {\r\n      const value = (e.target as HTMLInputElement).checked;\r\n      this.updateModel({ [key]: value } as Partial<HeadlessPreviewToggleModel>);\r\n    };\r\n  }\r\n\r\n  private handleNestedToggle(e: Event) {\r\n    const enabledNested = (e.target as HTMLInputElement).checked;\r\n    this.updateModel({ enabledNested });\r\n  }\r\n/*\r\n  private handleAdvancedSettingsChange(e: Event) {\r\n    const advancedSettings = (e.target as HTMLTextAreaElement).value;\r\n    this.updateModel({ advancedSettings });\r\n  }\r\n*/\r\n  render() {\r\n    return html`\r\n      <uui-box headline=\"Workspace View\">\r\n        <uui-label>Enabled</uui-label>\r\n\r\n        <uui-toggle\r\n          label=\"Headless Block Preview\"\r\n          .checked=${this.model.enabled}\r\n          @change=${this.handleMainToggle}>\r\n        </uui-toggle>\r\n\r\n        <div class=\"sub-toggle\">\r\n          <uui-label>Enabled for Block List</uui-label>\r\n          <uui-toggle\r\n            label=\"Enable for List\"\r\n            .checked=${this.model.enabledList}\r\n            ?disabled=${!this.model.enabled}\r\n            @change=${this.handleSubToggle('enabledList')}>\r\n          </uui-toggle>\r\n\r\n          <uui-label>Enabled for Block Grid</uui-label>\r\n          <uui-toggle\r\n            label=\"Enable for Grid\"\r\n            .checked=${this.model.enabledGrid}\r\n            ?disabled=${!this.model.enabled}\r\n            @change=${this.handleSubToggle('enabledGrid')}>\r\n          </uui-toggle>\r\n\r\n          <uui-label>Enabled for Rich Text Editor</uui-label>\r\n          <uui-toggle\r\n            label=\"Enable for RTE\"\r\n            .checked=${this.model.enabledRTE}\r\n            ?disabled=${!this.model.enabled}\r\n            @change=${this.handleSubToggle('enabledRTE')}>\r\n          </uui-toggle>\r\n        </div>\r\n\r\n        <div class=\"advanced\">\r\n          <uui-label>Advanced Settings</uui-label>\r\n          <hr />\r\n          <uui-label>Enable Nested Preview</uui-label>\r\n          <uui-toggle\r\n            label=\"Enable Nested Blocks\"\r\n            .checked=${this.model.enabledNested}\r\n            @change=${this.handleNestedToggle}>\r\n          </uui-toggle>\r\n        </div>\r\n      </uui-box>\r\n    `;\r\n  }\r\n}\r\n","import { ManifestBlockEditorCustomView } from '@umbraco-cms/backoffice/block-custom-view';\r\nimport { UmbEntryPointOnInit } from '@umbraco-cms/backoffice/extension-api';\r\n\r\nimport { HeadlessPreviewElement } from './elements/headlessPreview.element.js';\r\nimport { ManifestWorkspaceView, UMB_WORKSPACE_CONDITION_ALIAS } from '@umbraco-cms/backoffice/workspace';\r\nimport { HeadlessWorkspaceViewElement } from './elements/headlessWorkspaceView.element.js';\r\nimport { UMB_BLOCK_GRID_TYPE_WORKSPACE_ALIAS } from '@umbraco-cms/backoffice/block-grid';\r\nimport { UMB_BLOCK_LIST_TYPE_WORKSPACE_ALIAS } from '@umbraco-cms/backoffice/block-list';\r\nimport { UMB_AUTH_CONTEXT } from '@umbraco-cms/backoffice/auth';\r\nimport { BlockPreviewClient } from './blockpreview-api/BlockPreviewClient.js';\r\nimport { HeadlessPreviewToggleModel } from './blockpreview-api/index.js';\r\n\r\nexport const onInit: UmbEntryPointOnInit = async (_host, extensionRegistry) => {\r\n  _host.consumeContext(UMB_AUTH_CONTEXT, async (authContext) => {\r\n    const token = await authContext?.getLatestToken() ?? '';\r\n    const base = authContext?.getServerUrl() ?? '';\r\n    const enabledBlocks = await fetchEnabledBlocks(base, token);\r\n\r\n    HeadlessPreviewElement.blockSettings = enabledBlocks;\r\n\r\n    const blockPreview : ManifestBlockEditorCustomView = {\r\n      alias: 'Kraftvaerk.Umbraco.Headless.BlockPreview',\r\n      name: 'Umbraco Community Headless Block Preview',\r\n      type: 'blockEditorCustomView',\r\n      element: HeadlessPreviewElement,\r\n      forContentTypeAlias: enabledBlocks.filter(x => x.enabled && x.alias).map(x => x.alias as string) ?? [],\r\n    };\r\n\r\n    const blockGridWorkspaceView : ManifestWorkspaceView = {\r\n      type: 'workspaceView',\r\n      alias: 'umb.workspaceView.headlessPreviewGrid',\r\n      name: 'Headless Preview',\r\n      element: HeadlessWorkspaceViewElement,\r\n      weight: 1100,\r\n      meta: {\r\n        label: 'Block Preview',\r\n        pathname: 'preview',\r\n        icon: 'icon-settings',\r\n      },\r\n      conditions: [\r\n        {\r\n          alias: UMB_WORKSPACE_CONDITION_ALIAS,\r\n          match: UMB_BLOCK_GRID_TYPE_WORKSPACE_ALIAS,\r\n        }\r\n      ],\r\n    }\r\n\r\n    const blockListWorkspaceView : ManifestWorkspaceView = {\r\n      type: 'workspaceView',\r\n      alias: 'umb.workspaceView.headlessPreviewList',\r\n      name: 'Headless Preview',\r\n      element: HeadlessWorkspaceViewElement,\r\n      weight: 1100,\r\n      meta: {\r\n        label: 'Block Preview',\r\n        pathname: 'preview',\r\n        icon: 'icon-settings',\r\n      },\r\n      conditions: [\r\n        {\r\n          alias: UMB_WORKSPACE_CONDITION_ALIAS,\r\n          match: UMB_BLOCK_LIST_TYPE_WORKSPACE_ALIAS,\r\n        }\r\n      ],\r\n    }\r\n\r\n    extensionRegistry.register(blockPreview);\r\n    extensionRegistry.register(blockGridWorkspaceView);\r\n    extensionRegistry.register(blockListWorkspaceView);\r\n  });\r\n};\r\n\r\nasync function fetchEnabledBlocks(base: string, token: string): Promise<HeadlessPreviewToggleModel[]> {\r\n\r\n  tryInsertGlobalFonts();\r\n  try {\r\n    const client = new BlockPreviewClient({ BASE: base, TOKEN: token });\r\n\r\n    const data = await client.kraftvaerkUmbracoHeadlessBlockpreviewApiV1.optionsApiV1KraftvaerkUmbracoHeadlessBlockpreview();\r\n\r\n    console.log('Enabled block aliases:', data);\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Fetch failed:', error);\r\n    return []\r\n  }\r\n}\r\n\r\nasync function tryInsertGlobalFonts() {\r\n  const url = '/App_Plugins/global/global.css';\r\n\r\n  try {\r\n    const response = await fetch(url, { method: 'HEAD' });\r\n\r\n    if (response.ok) {\r\n      const css = document.createElement('link');\r\n      css.rel = 'stylesheet';\r\n      css.href = url;\r\n      document.head.appendChild(css);\r\n    }\r\n  } catch (error) {\r\n    \r\n  }\r\n}\r\n\r\n\r\n"],"names":["t","e","s","o","n$3","r","n","i","S","c","h","a","l","p","d","u","f","b","y$1","_a","_b","y","v","_","m","g","$","x","T","E","A","C","P","V","N","H","I","L","k","M","R","z","j","B","BaseHttpRequest","config","ApiError","request","response","message","CancelError","CancelablePromise","executor","__privateAdd","_isResolved","_isRejected","_isCancelled","_cancelHandlers","_promise","_resolve","_reject","__privateSet","resolve","reject","onResolve","value","__privateGet","onReject","reason","onCancel","cancelHandler","onFulfilled","onRejected","onFinally","error","isDefined","isString","isStringWithValue","isBlob","isFormData","base64","str","getQueryString","params","qs","append","key","process","getUrl","options","encoder","path","substring","group","url","getFormData","formData","resolver","getHeaders","token","username","password","additionalHeaders","headers","credentials","getRequestBody","sendRequest","body","controller","getResponseHeader","responseHeader","content","getResponseBody","contentType","type","catchErrorCodes","result","errorStatus","errorStatusText","errorBody","responseBody","FetchHttpRequest","__request","KraftvaerkUmbracoHeadlessBlockpreviewApiV1Service","httpRequest","requestBody","id","BlockPreviewClient","HttpRequest","_currentId","_lastValue","_lastSettings","_currentHtmlString","_debounceTimer","_culture","_useBeamFallback","_uuiBars","_lastError","_embedded","_blockSetting","_isGrid","_isList","_isRTE","_HeadlessPreviewElement_instances","debouncedFetchHtml_fn","elementName","HeadlessPreviewElement","UmbLitElement","changedProperties","__privateMethod","uuiActionBar","_c","_d","html","_e","_f","unsafeHTML","UMB_BLOCK_MANAGER_CONTEXT","blockManager","root","UMB_VARIANT_WORKSPACE_CONTEXT","workspaceContext","blockPreviewObject","UMB_AUTH_CONTEXT","authContext","client","label","nothing","selector","search","node","shadow","button","css","__decorateClass","property","customElement","HeadlessWorkspaceViewElement","UMB_PROPERTY_DATASET_CONTEXT","propertyDatasetContext","base","err","partial","enabled","enabledNested","state","onInit","_host","extensionRegistry","enabledBlocks","fetchEnabledBlocks","blockPreview","blockGridWorkspaceView","UMB_WORKSPACE_CONDITION_ALIAS","UMB_BLOCK_GRID_TYPE_WORKSPACE_ALIAS","blockListWorkspaceView","UMB_BLOCK_LIST_TYPE_WORKSPACE_ALIAS","tryInsertGlobalFonts","data"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8]}